<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layouts/main_layout}">
<head>
    <title>결제 메인</title>
    <style>
        body {
            background-color: #f9f9f9;
        }
        .product-price {
            color: #d9534f;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .product-options, .buy-buttons, .size-info, .size-chart, .product-images, .related-products {
            margin-top: 20px;
        }
        .product-images img, .related-products img {
            width: 100px;
            height: auto;
            margin-right: 10px;
        }
        .size-info img {
            width: 100%;
        }
        .related-products img {
            margin-right: 15px;
        }
        .carousel-control-prev, .carousel-control-next {
            width: 5%;
        }
        .chart-container {
            position: relative;
            /* height: 400px; */
            margin-top: 20px;
        }
        .btn-purchase {
            background-color: #d9534f;
            color: white;
            border: none;
            width: 100%;
        }
        .btn-sell {
            background-color: #5cb85c;
            color: white;
            border: none;
            width: 100%;
        }
        .btn-wishlist {
            background-color: transparent;
            color: black;
            border: 1px solid #ddd;
            padding: 5px 10px;
            border-radius: 4px;
            width: 100%;
            text-align: center;
        }
        .btn-wishlist img {
            width: 20px;
            height: 20px;
            margin-right: 5px;
        }
    </style>
    
</head>
<body layout:fragment="content">
    <div class="mainContainer">
        <div class="container mt-5">
            <div class="row">

                <!-- 상품 상세 이미지 -->
                <div class="col-md-6">
                    <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/img/product/product_img.png" class="d-block w-100" alt="Stussy Basic T-Shirt 1">
                            </div>
                            <div class="carousel-item">
                                <img src="/img/product/product_img.png" class="d-block w-100" alt="Stussy Basic T-Shirt 2">
                            </div>
                            <div class="carousel-item">
                                <img src="/img/product/product_img.png" class="d-block w-100" alt="Stussy Basic T-Shirt 3">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
                <!-- 상품 상세 정보 -->
                <div class="col-md-6">
                    <div class="product-details">
                        <h1>Stussy Basic Stussy T-Shirt Berry 2024</h1>
                        <div class="product-price">167,000원</div>
                        <div class="product-options">
                            <label for="size">Size:</label>
                            <select id="size" name="size" class="form-select w-50">
                                <option value="M">M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                            </select>
                        </div>
                        <div class="buy-buttons mt-3">
                            <button class="btn btn-danger btn-purchase mb-2">구매 167,000원</button>
                            <button class="btn btn-success btn-sell mb-2">판매 56,000원</button>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-wishlist"><img src="/goodz/src/main/resources/static/img/관심 선택.png" alt="관심">관심</button>
                        </div>

                        <div class="chart">
                            <div class="chart-container">
                                <ul class="nav nav-tabs" id="priceTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="one-month-tab" data-bs-toggle="tab" href="#one-month" role="tab" aria-controls="one-month" aria-selected="true">1개월</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="three-months-tab" data-bs-toggle="tab" href="#three-months" role="tab" aria-controls="three-months" aria-selected="false">3개월</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="six-months-tab" data-bs-toggle="tab" href="#six-months" role="tab" aria-controls="six-months" aria-selected="false">6개월</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="one-year-tab" data-bs-toggle="tab" href="#one-year" role="tab" aria-controls="one-year" aria-selected="false">1년</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="all-time-tab" data-bs-toggle="tab" href="#all-time" role="tab" aria-controls="all-time" aria-selected="false">전체</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade show active" id="one-month" role="tabpanel" aria-labelledby="one-month-tab">
                                        <canvas id="priceChart1Month"></canvas>
                                    </div>
                                    <div class="tab-pane fade" id="three-months" role="tabpanel" aria-labelledby="three-months-tab">
                                        <canvas id="priceChart3Months"></canvas>
                                    </div>
                                    <div class="tab-pane fade" id="six-months" role="tabpanel" aria-labelledby="six-months-tab">
                                        <canvas id="priceChart6Months"></canvas>
                                    </div>
                                    <div class="tab-pane fade" id="one-year" role="tabpanel" aria-labelledby="one-year-tab">
                                        <canvas id="priceChart1Year"></canvas>
                                    </div>
                                    <div class="tab-pane fade" id="all-time" role="tabpanel" aria-labelledby="all-time-tab">
                                        <canvas id="priceChartAllTime"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        
                    </div>
                </div> <!-- 상품 상세 정보 (끝) -->

                <div class="size-info mt-4">
                    <h5>Size Info</h5>
                    <img src="/img/product/size_info.png" alt="Size Chart">
                </div>
            </div>
            
            <div class="row mt-5">
                <div class="col-md-12">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Size</th>
                                <th>Chest</th>
                                <th>Front Length</th>
                                <th>Sleeve Length</th>
                                <th>Shoulder Width</th>
                                <th>CM</th>
                                <th>XS</th>
                                <th>S</th>
                                <th>M</th>
                                <th>L</th>
                                <th>XL</th>
                                <th>XXL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>M</td>
                                <td>58.5</td>
                                <td>68.6</td>
                                <td>22.3</td>
                                <td>50.8</td>
                                <td>Chest</td>
                                <td>53.3</td>
                                <td>55.9</td>
                                <td>58.4</td>
                                <td>61</td>
                                <td>63.5</td>
                                <td>66</td>
                            </tr>
                            <tr>
                                <td>L</td>
                                <td>61</td>
                                <td>71.1</td>
                                <td>24.1</td>
                                <td>53.3</td>
                                <td>Front Length</td>
                                <td>66</td>
                                <td>68.6</td>
                                <td>71.1</td>
                                <td>73.7</td>
                                <td>76.2</td>
                                <td>78.7</td>
                            </tr>
                            <tr>
                                <td>XL</td>
                                <td>63.5</td>
                                <td>73.7</td>
                                <td>25.4</td>
                                <td>55.9</td>
                                <td>Sleeve Length</td>
                                <td>19.7</td>
                                <td>21</td>
                                <td>22.2</td>
                                <td>23.5</td>
                                <td>24.8</td>
                                <td>26</td>
                            </tr>
                            <tr>
                                <td colspan="5"></td>
                                <td>Shoulder Width</td>
                                <td>48.3</td>
                                <td>50.8</td>
                                <td>53.3</td>
                                <td>55.9</td>
                                <td>58.4</td>
                                <td>61</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="product-images d-flex justify-content-between mt-5">
                <img src="/img/product/style_card.png" alt="Model 1">
                <img src="/img/product/style_card.png" alt="Model 2">
                <img src="/img/product/style_card.png" alt="Model 3">
                <img src="/img/product/style_card.png" alt="Model 4">
            </div>
            <div class="related-products d-flex justify-content-between mt-5">
                <img src="/img/product/product_card.png" alt="Related Product 1">
                <img src="/img/product/product_card.png" alt="Related Product 2">
                <img src="/img/product/product_card.png" alt="Related Product 3">
                <img src="/img/product/product_card.png" alt="Related Product 4">
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 차트 데이터 설정
            const chartData = [200000, 220000, 210000, 230000, 250000];
            const labels = ['1개월', '3개월', '6개월', '1년', '전체'];
            const chartOptions = {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: '가격 변동',
                        data: chartData,
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 2,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        x: {
                            beginAtZero: true
                        },
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            };

            // 차트 초기화
            const ctx1Month = document.getElementById('priceChart1Month').getContext('2d');
            const ctx3Months = document.getElementById('priceChart3Months').getContext('2d');
            const ctx6Months = document.getElementById('priceChart6Months').getContext('2d');
            const ctx1Year = document.getElementById('priceChart1Year').getContext('2d');
            const ctxAllTime = document.getElementById('priceChartAllTime').getContext('2d');
            
            new Chart(ctx1Month, chartOptions);
            new Chart(ctx3Months, chartOptions);
            new Chart(ctx6Months, chartOptions);
            new Chart(ctx1Year, chartOptions);
            new Chart(ctxAllTime, chartOptions);
        });
    </script>
</body>
</html>
